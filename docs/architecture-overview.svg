<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 580" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif">
  <defs>
    <filter id="shadow" x="-4%" y="-4%" width="108%" height="112%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.08"/>
    </filter>
    <linearGradient id="headerBg" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#1e293b"/>
      <stop offset="100%" stop-color="#334155"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="960" height="580" rx="12" fill="#f8fafc"/>

  <!-- Title bar -->
  <rect width="960" height="56" rx="12" fill="url(#headerBg)"/>
  <rect y="44" width="960" height="12" fill="url(#headerBg)"/>
  <text x="480" y="35" text-anchor="middle" fill="#f1f5f9" font-size="18" font-weight="600" letter-spacing="0.5">Architecture Overview</text>

  <!-- MCP Server container -->
  <rect x="24" y="76" width="912" height="180" rx="10" fill="#fff" stroke="#cbd5e1" stroke-width="1" filter="url(#shadow)"/>
  <text x="44" y="100" fill="#475569" font-size="11" font-weight="600" letter-spacing="1.2">MCP CURSOR PROFILES SERVER</text>
  <line x1="44" y1="108" x2="200" y2="108" stroke="#e2e8f0" stroke-width="1"/>

  <!-- Profile tools -->
  <text x="44" y="132" fill="#64748b" font-size="10" font-weight="500" letter-spacing="0.5">PROFILE MANAGEMENT</text>
  <g transform="translate(44, 142)">
    <rect width="120" height="34" rx="6" fill="#1e293b"/>
    <text x="60" y="21" text-anchor="middle" fill="#e2e8f0" font-size="11" font-weight="500">list_profiles</text>
  </g>
  <g transform="translate(176, 142)">
    <rect width="128" height="34" rx="6" fill="#1e293b"/>
    <text x="64" y="21" text-anchor="middle" fill="#e2e8f0" font-size="11" font-weight="500">switch_profile</text>
  </g>
  <g transform="translate(316, 142)">
    <rect width="112" height="34" rx="6" fill="#1e293b"/>
    <text x="56" y="21" text-anchor="middle" fill="#e2e8f0" font-size="11" font-weight="500">init_profile</text>
  </g>
  <g transform="translate(440, 142)">
    <rect width="132" height="34" rx="6" fill="#1e293b"/>
    <text x="66" y="21" text-anchor="middle" fill="#e2e8f0" font-size="11" font-weight="500">rename_profile</text>
  </g>
  <g transform="translate(584, 142)">
    <rect width="118" height="34" rx="6" fill="#1e293b"/>
    <text x="59" y="21" text-anchor="middle" fill="#e2e8f0" font-size="11" font-weight="500">open_cursor</text>
  </g>

  <!-- Git auth tools -->
  <text x="44" y="206" fill="#64748b" font-size="10" font-weight="500" letter-spacing="0.5">GIT AUTHENTICATION</text>
  <g transform="translate(44, 216)">
    <rect width="136" height="34" rx="6" fill="#334155"/>
    <text x="68" y="21" text-anchor="middle" fill="#e2e8f0" font-size="11" font-weight="500">check_git_auth</text>
  </g>
  <g transform="translate(192, 216)">
    <rect width="130" height="34" rx="6" fill="#334155"/>
    <text x="65" y="21" text-anchor="middle" fill="#e2e8f0" font-size="11" font-weight="500">fix_git_remote</text>
  </g>
  <g transform="translate(334, 216)">
    <rect width="146" height="34" rx="6" fill="#334155"/>
    <text x="73" y="21" text-anchor="middle" fill="#e2e8f0" font-size="11" font-weight="500">list_git_accounts</text>
  </g>
  <g transform="translate(492, 216)">
    <rect width="162" height="34" rx="6" fill="#334155"/>
    <text x="81" y="21" text-anchor="middle" fill="#e2e8f0" font-size="11" font-weight="500">switch_git_account</text>
  </g>

  <!-- Connector lines -->
  <!-- Profile tools to File System -->
  <line x1="200" y1="256" x2="200" y2="310" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="6,4"/>
  <polygon points="196,308 200,318 204,308" fill="#94a3b8"/>
  <!-- Profile tools to Cursor IDE -->
  <line x1="643" y1="176" x2="850" y2="176" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="6,4"/>
  <line x1="850" y1="176" x2="850" y2="310" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="6,4"/>
  <polygon points="846,308 850,318 854,308" fill="#94a3b8"/>
  <!-- Git tools to gh CLI -->
  <line x1="573" y1="256" x2="573" y2="280" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="6,4"/>
  <line x1="573" y1="280" x2="700" y2="280" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="6,4"/>
  <line x1="700" y1="280" x2="700" y2="310" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="6,4"/>
  <polygon points="696,308 700,318 704,308" fill="#94a3b8"/>

  <!-- Labels on connectors -->
  <text x="186" y="288" fill="#94a3b8" font-size="9" font-weight="500">symlinks</text>
  <text x="860" y="248" fill="#94a3b8" font-size="9" font-weight="500">launch</text>
  <text x="630" y="274" fill="#94a3b8" font-size="9" font-weight="500">credentials</text>

  <!-- Bottom row: File System, gh CLI, Cursor IDE -->
  <!-- File System -->
  <rect x="24" y="318" width="420" height="240" rx="10" fill="#fff" stroke="#cbd5e1" stroke-width="1" filter="url(#shadow)"/>
  <text x="44" y="342" fill="#475569" font-size="11" font-weight="600" letter-spacing="1.2">FILE SYSTEM</text>
  <line x1="44" y1="350" x2="130" y2="350" stroke="#e2e8f0" stroke-width="1"/>

  <!-- Symlink: ~/.cursor -->
  <g transform="translate(44, 362)">
    <rect width="160" height="38" rx="6" fill="#fefce8" stroke="#facc15" stroke-width="1"/>
    <text x="80" y="16" text-anchor="middle" fill="#854d0e" font-size="10" font-weight="600">SYMLINK</text>
    <text x="80" y="30" text-anchor="middle" fill="#713f12" font-size="11" font-weight="500">~/.cursor</text>
  </g>
  <line x1="204" y1="381" x2="240" y2="381" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <path d="M238 381 L248 381" stroke="#94a3b8" stroke-width="1.5"/>
  <polygon points="246,377 256,381 246,385" fill="#94a3b8"/>
  <g transform="translate(260, 362)">
    <rect width="166" height="38" rx="6" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="1"/>
    <text x="83" y="16" text-anchor="middle" fill="#475569" font-size="10" font-weight="600">PROFILES DIR</text>
    <text x="83" y="30" text-anchor="middle" fill="#64748b" font-size="11" font-weight="500">~/.cursor-profiles/</text>
  </g>

  <!-- Symlink: ~/Library/.../Cursor -->
  <g transform="translate(44, 416)">
    <rect width="160" height="38" rx="6" fill="#fefce8" stroke="#facc15" stroke-width="1"/>
    <text x="80" y="16" text-anchor="middle" fill="#854d0e" font-size="10" font-weight="600">SYMLINK</text>
    <text x="80" y="30" text-anchor="middle" fill="#713f12" font-size="10.5" font-weight="500">~/Library/.../Cursor</text>
  </g>
  <path d="M204 435 L248 435" stroke="#94a3b8" stroke-width="1.5"/>
  <polygon points="246,431 256,435 246,439" fill="#94a3b8"/>
  <g transform="translate(260, 416)">
    <rect width="166" height="38" rx="6" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="1"/>
    <text x="83" y="16" text-anchor="middle" fill="#475569" font-size="10" font-weight="600">PROFILES DIR</text>
    <text x="83" y="30" text-anchor="middle" fill="#64748b" font-size="10" font-weight="500">.../CursorProfiles/</text>
  </g>

  <!-- Profile list -->
  <g transform="translate(54, 472)">
    <rect width="370" height="72" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1"/>
    <text x="14" y="20" fill="#64748b" font-size="10" font-weight="500">Each profile directory contains:</text>
    <text x="14" y="38" fill="#475569" font-size="11" font-family="'SF Mono', 'Fira Code', monospace">work/  personal/  client-x/  ...</text>
    <text x="14" y="56" fill="#94a3b8" font-size="10">Extensions, settings, keybindings, workspace state</text>
  </g>

  <!-- gh CLI -->
  <rect x="552" y="318" width="170" height="100" rx="10" fill="#fff" stroke="#cbd5e1" stroke-width="1" filter="url(#shadow)"/>
  <text x="637" y="348" text-anchor="middle" fill="#475569" font-size="11" font-weight="600" letter-spacing="1.2">GH CLI</text>
  <line x1="592" y1="356" x2="682" y2="356" stroke="#e2e8f0" stroke-width="1"/>
  <text x="637" y="378" text-anchor="middle" fill="#64748b" font-size="11">Account tokens</text>
  <text x="637" y="396" text-anchor="middle" fill="#64748b" font-size="11">Credential helper</text>

  <!-- Cursor IDE -->
  <rect x="784" y="318" width="152" height="100" rx="10" fill="#fff" stroke="#cbd5e1" stroke-width="1" filter="url(#shadow)"/>
  <text x="860" y="348" text-anchor="middle" fill="#475569" font-size="11" font-weight="600" letter-spacing="1.2">CURSOR IDE</text>
  <line x1="814" y1="356" x2="906" y2="356" stroke="#e2e8f0" stroke-width="1"/>
  <text x="860" y="378" text-anchor="middle" fill="#64748b" font-size="11">Reads config from</text>
  <text x="860" y="396" text-anchor="middle" fill="#64748b" font-size="11">symlinked dirs</text>

  <!-- Footer -->
  <text x="480" y="572" text-anchor="middle" fill="#94a3b8" font-size="11" letter-spacing="0.3">Profile tools manage the file system. Git auth tools manage gh CLI credentials. Both operate via MCP.</text>
</svg>
